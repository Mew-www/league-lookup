<div>
  <p *ngIf="loading">
    {{gettext("loading_statistics")}}
  </p>
  <p *ngIf="gamehistory_error_text_key">
    {{gettext(gamehistory_error_text_key) + (gamehistory_error_details ? " ("+gamehistory_error_details+")" : "")}}
    {{gamehistory_error_details}}
  </p>
  <p *ngIf="masterypoints_error_text_key">
    {{gettext(masterypoints_error_text_key) + (masterypoints_error_details ? " ("+masterypoints_error_details+")" : "")}}
    {{masterypoints_error_details}}
  </p>
  <p *ngIf="rankedwinrate_error_text_key">
    {{gettext(rankedwinrate_error_text_key) + (rankedwinrate_error_details ? " ("+rankedwinrate_error_details+")" : "")}}
    {{rankedwinrate_error_details}}
  </p>
  <p *ngIf="masterypoints" class="Masteries-header">
    <span class="Masteries-header__text">Champion masteries</span>
    <button (click)="onClickToggleMasteries()">
      {{masterypoints_toggled ? gettext('minimize') : gettext('show')}}
    </button>
  </p>
  <div *ngIf="masterypoints && masterypoints_toggled"
       class="MasteryScrollerContainer">
    <div #lazy_mastery_scroller
         class="PlayerChampionMasteryScroller"
         (scroll)="onMasteriesScrolled($event)">
      <player-champion-mastery *ngFor="let mastery of masterypoints"
                               class="PlayerChampionMastery-container"
                               [class.PlayerChampionMastery-container--level5]="mastery.level == 5"
                               [class.PlayerChampionMastery-container--level6]="mastery.level == 6"
                               [class.PlayerChampionMastery-container--level7]="mastery.level == 7"
                               [mastery]="mastery">
      </player-champion-mastery>
    </div>
    <div *ngIf="scrolling_masteries_left_available"
         class="arrow-left"
         title="{{gettext('scroll_prev_masteries')}}"
         (click)="onClickMasteriesGotoLeft(lazy_mastery_scroller)">
    </div>
    <div *ngIf="scrolling_masteries_right_available"
         class="arrow-right"
         title="{{gettext('scroll_next_masteries')}}"
         (click)="onClickMasteriesGotoRight(lazy_mastery_scroller)">
    </div>
  </div>
  <div *ngIf="rankedwinrate">
    <p *ngFor="let queue of rankedwinrate">
      Season {{queue.season}} {{queue.queue_type | queuetypeDescription}}:
      <span *ngIf="queue.wins+queue.losses > 0">
        {{queue.wins}} {{gettext("n_of_wins")}},
        {{queue.losses}} {{gettext("n_of_losses")}}
        ({{this.Math.round((queue.wins/(queue.losses+queue.wins))*100)}}% winrate)
      </span>
      <span *ngIf="queue.wins+queue.losses === 0">
        {{gettext("no_games_played")}}
      </span>
    </p>
  </div>
  <div *ngIf="gamehistory">
    <p>{{gamehistory.length}} games total available</p>
    <p>{{getFilteredGames().length}} filtered games</p>
    <p>{{getFilteredLoadedGames().length}} filtered games loaded</p>
    <player-game-preview *ngFor="let game of gamehistory"
                         class="PlayerGamePreview-container"
                         [game_preview]="game"
                         [auto_start_loading_details]="autoload_these_games.indexOf(game.game_id) !== -1"
                         [summoner]="summoner"
                         [champions_metadata]="champions_metadata">
    </player-game-preview>
  </div>
</div>